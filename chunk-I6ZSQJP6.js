import{a as m,b,e as p}from"./chunk-MNXY6R3H.js";import"./chunk-LG3ESZ4H.js";import{Ad as f,Cd as u,Fd as g,Sa as s,Vb as h,X as r,g as o,ub as d,vb as l,wb as c}from"./chunk-IFPKIGQ4.js";var R=(()=>{let t=class t{constructor(e,i,n,S){this.dataTableService=e,this.translate=i,this.dataService=n,this.sharedModalService=S,this.subscription=new o,this.skip=0,this.take=10,this.allStages=[],this.columns=[{field:this.translate.currentLang=="en"?"full_name":"full_name_ar",header:"NAME",type:"id",canSort:!1},{field:"mobile",header:"PHONE",type:"phone",canSort:!1},{field:"salasman_name",header:"SALES_MAN",type:"text",canSort:!1},{field:"seller_requests_count",header:"REQUESTS",type:"text",canSort:!1},{field:"stage",header:"STAGE",type:"text",canSort:!1,classes:["alert-grey","alert-flag"]},{field:"project_title",header:"PROJECT",type:"text",canSort:!1,classes:["alert-grey","alert-flag"]},{field:"unit_type",header:"PROPERTY_TYPE",type:"text",canSort:!1,classes:["alert-grey","alert-flag"]},{field:"action",header:"ACTION",type:"status",canSort:!1,fieldStatus:"action_date"},{field:"last_comment",header:"LAST_COMMENT",type:"text",canSort:!1}],this.actions=[{label:"ADD_ACTION",icon:"assets/images/action.svg",function:this.fun.bind(this),btnConditionBasedField:""},{label:"REASSING_OWNER",icon:"assets/images/reassign.svg",function:this.fun.bind(this),btnConditionBasedField:""},{label:"SELLER_REQUEST",icon:"assets/images/requests.svg",function:this.fun.bind(this),btnConditionBasedField:""},{label:"EDIT_OWNER",icon:"assets/images/edit-action.svg",function:this.fun.bind(this),btnConditionBasedField:""},{label:"REMOVE_OWNER",icon:"assets/images/delete-action.svg",function:this.fun.bind(this),btnConditionBasedField:""}],this.actionOnHoverRow={label:"ADD_ACTION",function:this.fun.bind(this),btnConditionBasedField:""},this.actionHeader=[{label:"ASSIGN",icon:"assets/images/reassign.svg",function:this.fun2.bind(this),btnConditionBasedField:""},{label:"EDIT",icon:"assets/images/edit-action.svg",function:this.fun2.bind(this),btnConditionBasedField:""},{label:"DELETE",icon:"assets/images/delete-action.svg",function:this.fun2.bind(this),btnConditionBasedField:""}],e.cols=this.columns,e.isLoading=!1,e.hasPaginator=!0,e.hasListActions=!0,e.actionsList=this.actions,e.actionOnHoverRow=this.actionOnHoverRow,e.headerActions=this.actionHeader}ngOnInit(){this.getData(),this.getPageChanged()}getData(){this.dataTableService.isLoading=!0,this.subscription.add(this.dataService.postFn("owner/get/bulk",{skip:this.skip,take:this.take}).subscribe(e=>{this.dataTableService.isLoading=!1,this.dataTableService.tableHeight="auto",this.dataTableService.totalRecords=e?.total,this.dataTableService.rows.set(e?.list)}))}getPageChanged(){this.subscription.add(this.dataTableService.getPageChanged().subscribe(e=>{this.skip=e.page*e.rows,this.take=e.rows,this.getData()}))}fun(e){}fun2(e){}ngOnDestroy(){this.subscription.unsubscribe(),this.sharedModalService.selectedItemReassigned={}}};t.\u0275fac=function(i){return new(i||t)(s(m),s(f),s(g),s(p))},t.\u0275cmp=r({type:t,selectors:[["engaz-owner-list"]],standalone:!0,features:[h],decls:3,vars:0,consts:[[1,"p-4"],[1,"position-relative","shadow","rounded"]],template:function(i,n){i&1&&(d(0,"div",0)(1,"div",1),c(2,"data-table"),l()())},dependencies:[b,u]});let a=t;return a})();export{R as OwnerListComponent};
