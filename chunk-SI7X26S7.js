import{A as q,B as Qe,C as Ke,D as de,E as me,F as ue,G as fe,H as Ye,M as Je,N as We,Q as Xe,U as D,V as ge,c as N,d as Oe,f as H,g as Be,h as Ue,n as ae,o as se,p as Ne,q as Ve,r as le,s as pe,u as $e,v as ze,x as He,y as qe,z as ce}from"./chunk-33LCYWER.js";import"./chunk-74ISNC3D.js";import{f as Pe,h as De,i as Ee,j as Ae}from"./chunk-PFKTXGOQ.js";import{a as Ze,b as et,e as tt}from"./chunk-MNXY6R3H.js";import"./chunk-LG3ESZ4H.js";import{$ as M,$a as ke,Ab as B,Ad as Ie,Bb as _,Bd as z,C as we,Cb as C,Cd as R,Fe as V,Gc as Te,Ge as O,Hd as Le,He as Ge,Id as I,Ie as je,Lb as Fe,Ld as Z,Ma as be,Mb as s,Md as ee,Na as $,Nb as y,Nd as te,O as xe,Ob as G,Od as F,Q as T,Qd as ie,Ra as a,Rc as A,Sa as Q,Sc as Me,Sd as oe,Td as ne,Vb as b,Wb as S,Wc as k,X as x,Ya as E,Zd as re,_a as Se,aa as P,dc as m,ec as u,ed as X,fa as j,g as Ce,ib as v,je as Re,kb as d,nb as K,qa as f,qb as g,rb as Y,sb as J,tb as W,ub as t,vb as o,wb as p}from"./chunk-IFPKIGQ4.js";var pt=()=>["/account","profile"],he=()=>({exact:!0}),ct=()=>["/account","settings"],dt=()=>["/account","linked-devices"],mt=()=>["/account","two-factory"];function ut(n,e){if(n&1&&(t(0,"div",3)(1,"a",4),s(2,"Profile"),o(),t(3,"a",4),s(4,"account settings"),o(),t(5,"a",4),s(6,"Link Devices "),p(7,"p-badge",5),o(),t(8,"a",4),s(9,"Two Factory"),o()()),n&2){let c=C();a(),d("routerLink",S(9,pt))("routerLinkActiveOptions",S(10,he)),a(2),d("routerLink",S(11,ct))("routerLinkActiveOptions",S(12,he)),a(2),d("routerLink",S(13,dt))("routerLinkActiveOptions",S(14,he)),a(2),d("value",c.user.userData().user_devices+""),a(),d("routerLink",S(15,mt))("routerLinkActiveOptions",S(16,he))}}var ft=()=>({margin:"1rem",borderRadius:"10px"}),Yt=(()=>{let e=class e{constructor(){this.user=f(H)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=x({type:e,selectors:[["engaz-account-layout"]],standalone:!0,features:[b],decls:8,vars:3,consts:[[1,"p-1"],[1,"px-3"],["pTemplate","header"],[1,"border-bottom","p-2","d-flex","align-items-center",2,"border-radius","10px 10px 0 0"],["routerLinkActive","active",1,"text-sm-semi-bold","links",2,"color","#667085",3,"routerLink","routerLinkActiveOptions"],["severity","info",3,"value"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"h3",1),s(2,"My Account"),o(),t(3,"p",1),s(4,"Manage your account."),o(),t(5,"p-card"),v(6,ut,10,17,"ng-template",2),p(7,"router-outlet"),o()()),r&2&&(a(5),K(S(2,ft)))},dependencies:[k,q,ce,Re,O,Ae,Pe,De,Ee,Ve,Ne],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     .p-card .p-card-body{padding:0 0 1.25rem!important}[_nghost-%COMP%]     .p-card .p-card-content{padding:0!important}[_nghost-%COMP%]     .p-badge.p-badge-info{background-color:#f2f4f7;color:#344054}.links[_ngcontent-%COMP%]{padding:10px 16px;border-radius:8px}.active[_ngcontent-%COMP%]{color:#2027e2!important;background-color:#ebf3ff}"],changeDetection:0});let n=e;return n})();function it(n){return!!n.type.startsWith("image/")}function _t(n,e){}function Ct(n,e){}function wt(n,e){}var Ci=(()=>{let e=class e{constructor(){this.accountSettings=f(ot),this.location=f(Te),this.accountSettingsForm=this.initAccountForm(),this.mainPhoto=E("")}initAccountForm(){return new te({fullName:new F,userName:new F,email:new F("",[I.required,I.email]),mobile:new F(null,[I.required]),photo:new F})}ngOnInit(){this.accountObservable$=this.accountSettings.fetchUserProfile().pipe(T(i=>{this.populateDataInForm(i)}))}populateDataInForm(i){this.photoUser=i.profile_photo,this.accountSettingsForm.patchValue({fullName:i.full_name,email:i.email,mobile:i.mobile,photo:i.profile_photo})}changePhoto(i){let r=i.target.files[0];if(r&&it(r)){let l=new FileReader;l.readAsDataURL(r),l.onload=()=>{let w={name:r.name,size:r.size,type:r.type,lastModified:r.lastModified,lastModeifiedDate:new Date(r.lastModified),src:l.result};this.updatePhotoObservable$=this.accountSettings.updateProfilePhoto({file:w,path:"user/profile_photo",type:"image"}).pipe(T(h=>{if(console.log(h),h.type==X.UploadProgress){if(h.total){let L=Math.round(h.loaded/h.total)*100}}else h.type==X.Response&&h.ok==!0?(this.mainPhoto.set(h.body.file_name),this.photoUser=h.body.dir+h.body.file_name,this.accountSettingsForm.controls.photo.setValue(this.mainPhoto()),this.onSubmit(this.accountSettingsForm.value)):h.type==X.Response&&h.ok==!1&&this.onSubmit(this.accountSettingsForm.value)})),this.accountSettingsForm.controls.photo.setValue(l.result)}}else this.onSubmit(this.accountSettingsForm.value)}onSubmit(i){i||(i=this.accountSettingsForm.value);let r={full_name:i.fullName,mobile:i.mobile?i.mobile:null,profile_photo:i.photo};this.updateProfileObservable$=this.accountSettings.accountUserProfileUpdate(r).pipe(xe(l=>this.accountSettings.fetchUserProfile()))}back(){this.location.back()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=x({type:e,selectors:[["engaz-account-settings"]],standalone:!0,features:[b],decls:62,vars:23,consts:[[1,"container-fluid","d-flex","flex-column","p-2"],[3,"formGroup"],[1,"row"],[1,"col-md-3","col-sm-12","d-flex","align-items-center"],["for","name"],[1,"col-md-8","col-sm-12"],["type","text","pInputText","","placeholder","full name","formControlName","fullName",1,"w-100","my-2"],[1,"row","my-2"],[1,"pi","pi-at"],["pInputText","","placeholder","username","formControlName","userName"],["for","email"],[1,"pi","pi-envelope"],["id","email","pInputText","","placeholder","Email","formControlName","email"],["for","phone"],["mask","09999999999","formControlName","mobile","placeholder","(0109) 520-2651"],["type","file","accept","image/*",1,"d-none",3,"change"],["file",""],[1,"d-flex","justify-content-between"],[1,"position-relative"],["width","160","height","160","alt","avatar","onerror","this.onerror=null;this.src='assets/images/user.png'",1,"rounded","img-fluid",3,"src"],["label","delete","severity","secondary",3,"text"],["label","Update",3,"text","onClick"],[1,"d-flex","justify-content-end"],["label","back","severity","secondary",1,"mx-2","rounded",3,"outlined","onClick"],["label","save",1,"rounded",3,"onClick"]],template:function(r,l){if(r&1){let w=B();v(0,_t,0,0),m(1,"async"),v(2,Ct,0,0),m(3,"async"),v(4,wt,0,0),m(5,"async"),t(6,"section",0)(7,"h4"),s(8,"Account Settings"),o(),t(9,"p"),s(10,"Update your photo and personal details here."),o(),t(11,"form",1)(12,"div",2)(13,"div",3)(14,"label",4),s(15,"Full Name"),o()(),t(16,"div",5),p(17,"input",6),o()(),t(18,"div",7)(19,"div",3)(20,"label",4),s(21,"Username"),o()(),t(22,"div",5)(23,"p-inputGroup")(24,"p-inputGroupAddon"),p(25,"i",8),o(),p(26,"input",9),o()()(),t(27,"div",7)(28,"div",3)(29,"label",10),s(30),m(31,"translate"),o()(),t(32,"div",5)(33,"p-inputGroup")(34,"p-inputGroupAddon"),p(35,"i",11),o(),p(36,"input",12),o()()(),t(37,"div",7)(38,"div",3)(39,"label",13),s(40),m(41,"translate"),o()(),t(42,"div",5),p(43,"p-inputMask",14),o()(),t(44,"div",7)(45,"div",3)(46,"label",13),s(47),m(48,"translate"),o()(),t(49,"div",5)(50,"input",15,16),_("change",function(L){return l.changePhoto(L)}),o(),t(52,"div",17)(53,"div",18),p(54,"img",19),o(),t(55,"div"),p(56,"p-button",20),t(57,"p-button",21),_("onClick",function(){M(w);let L=Fe(51);return P(L.click())}),o()()()()(),p(58,"p-divider"),t(59,"div",22)(60,"p-button",23),_("onClick",function(){return l.back()}),o(),t(61,"p-button",24),_("onClick",function(){return l.onSubmit()}),o()()()()}r&2&&(g(0,u(1,11,l.accountObservable$)?0:-1),a(2),g(2,u(3,13,l.updateProfileObservable$)?2:-1),a(2),g(4,u(5,15,l.updatePhotoObservable$)?4:-1),a(7),d("formGroup",l.accountSettingsForm),a(19),y(u(31,17,"controls.email")),a(10),y(u(41,19,"controls.phone")),a(7),y(u(48,21,"controls.photo")),a(7),d("src",l.photoUser,$),a(2),d("text",!0),a(),d("text",!0),a(3),d("outlined",!0))},dependencies:[k,A,re,ie,Le,Z,ee,oe,ne,je,Ge,me,de,fe,ue,R,z,O,V,We,Je,pe,le],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     .p-inputgroup-addon{background-color:#fff}[_nghost-%COMP%]     .p-button{border-radius:8px}"],changeDetection:0});let n=e;return n})();var nt=(()=>{let e=class e{constructor(i,r,l,w){this.dataTableService=i,this.translate=r,this.dataService=l,this.sharedModalService=w,this.subscription=new Ce,this.skip=0,this.take=10,this.allStages=[],this.columns=[{field:"creator_id",header:"ID",type:"id",canSort:!1},{field:"action_date",header:"ACTION_DATE",type:"text",canSort:!1},{field:"action",header:"ACTION",type:"text",canSort:!1},{field:"creator_name",header:"CREATOR",type:"text",canSort:!1},{field:"ip",header:"ADDRESS",type:"text",canSort:!1},{field:"model",header:"MODEL",type:"text",canSort:!1,classes:["alert-grey","alert-flag"]}],this.actions=[],this.actionOnHoverRow={label:"",function:this.fun.bind(this),btnConditionBasedField:"",showBasedCondition:!1},i.cols=this.columns,i.isLoading=!1,i.hasPaginator=!0,i.hasListActions=!1,i.actionsList=this.actions,i.actionOnHoverRow=this.actionOnHoverRow}ngOnInit(){this.getData(),this.getPageChanged()}getData(){this.dataTableService.isLoading=!0,this.subscription.add(this.dataService.post({api:D.logActivityList+`/${this.skip}/${this.take}`,body:{skip:this.skip,take:this.take}}).subscribe(i=>{this.dataTableService.isLoading=!1,this.dataTableService.tableHeight="auto",this.dataTableService.totalRecords=i?.total,this.dataTableService.rows.set(i?.data)}))}getPageChanged(){this.subscription.add(this.dataTableService.getPageChanged().subscribe(i=>{this.skip=i.page*i.rows,this.take=i.rows,this.getData()}))}fun(i){}ngOnDestroy(){this.subscription.unsubscribe(),this.sharedModalService.selectedItemReassigned={}}};e.\u0275fac=function(r){return new(r||e)(Q(Ze),Q(Ie),Q(N),Q(tt))},e.\u0275cmp=x({type:e,selectors:[["engaz-activity-log"]],standalone:!0,features:[b],decls:2,vars:0,consts:[[1,"position-relative"]],template:function(r,l){r&1&&(t(0,"div",0),p(1,"data-table"),o())},dependencies:[k,et,R],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=e;return n})();function xt(n,e){}function bt(n,e){if(n&1&&(t(0,"div",11)(1,"p-card",12)(2,"div",13)(3,"span"),s(4),o(),t(5,"span"),s(6),o(),t(7,"p"),s(8),o()()()()),n&2){let c=e.$implicit;a(4),G(" ",c.title," "),a(2),G(" ",c.counter," "),a(2),G("",c.percentage,"%")}}var Gi=(()=>{let e=class e{constructor(){this.accountProfileService=f(rt),this.user=f(H),this.company=f(Oe),this.accountCountCards=E([])}ngOnInit(){this.accountProfile$=this.accountProfileService.accountCountCards().pipe(T(i=>{this.accountCountCards.set(i.list)}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=x({type:e,selectors:[["engaz-profile"]],standalone:!0,features:[b],decls:39,vars:12,consts:[[1,"d-flex","flex-column"],[1,"w-100","background","flex-1"],[1,"w-100","d-flex","flex-1","position-relative"],["width","160","height","160","alt","avatar","onerror","this.onerror=null;this.src='assets/images/user.png'",1,"rounded","img-fluid","position",3,"src"],[1,"info","d-flex","flex-column","padding-inline","mx-5"],[1,"d-flex","flex-wrap","align-items-center","g-3"],[1,"role","mx-3"],[1,"d-flex","justify-content-evenly","my-4","flex-wrap"],[1,"container-fluid"],[1,"row"],[1,"p-2"],[1,"col-12","col-sm-12","col-md-3","col-lg-2","gap-2"],[1,"m-2"],[1,"d-flex","flex-column","flex-wrap","justify-content-between","align-items-center"],["class","col-12 col-sm-12 col-md-3 col-lg-2 gap-2"]],template:function(r,l){if(r&1&&(v(0,xt,0,0),m(1,"async"),t(2,"div",0),p(3,"div",1),t(4,"div",2),p(5,"img",3),t(6,"div",4)(7,"h3",5),s(8),m(9,"titlecase"),t(10,"span",6),s(11),o()(),t(12,"span"),s(13),o()()(),t(14,"div",7)(15,"div",0)(16,"span"),s(17,"Your Bio"),o()(),t(18,"div",0)(19,"span"),s(20,"Email Address"),o(),t(21,"span"),s(22),o()(),t(23,"div",0)(24,"span"),s(25,"Phone Number"),o(),t(26,"span"),s(27),o()(),t(28,"div",0)(29,"span"),s(30,"Username"),o(),t(31,"span"),s(32),o()()(),t(33,"div",8)(34,"div",9),J(35,bt,9,3,"div",14,Y),o()(),t(37,"div",10),p(38,"engaz-activity-log"),o()()),r&2){let w,h,L;g(0,u(1,8,l.accountProfile$)?0:-1),a(5),d("src",l.user.userData().profile_photo,$),a(3),G(" ",u(9,10,(w=l.user.userData().full_name)!==null&&w!==void 0?w:"Not")," "),a(3),G(" ",l.user.userData().role,""),a(2),y((h=l.user.userData().email)!==null&&h!==void 0?h:"Not"),a(9),y(l.user.userData().email),a(5),y((L=l.user.userData().moile)!==null&&L!==void 0?L:l.company.componyInfo().phone),a(5),G(" @",l.user.userData().full_name,""),a(3),W(l.accountCountCards())}},dependencies:[k,A,Me,q,ce,ae,se,nt],styles:["[_nghost-%COMP%]{display:block}.background[_ngcontent-%COMP%]{height:110px;background:#4c64ff;background:linear-gradient(90deg,#4c64ff 100%,#404bff)}.position[_ngcontent-%COMP%]{position:absolute;top:-2.5rem;left:2rem}.padding-inline[_ngcontent-%COMP%]{padding-inline-start:11rem;margin-block:2rem}.role[_ngcontent-%COMP%]{color:#2027e2;font-size:1rem;line-height:24px}"],changeDetection:0});let n=e;return n})();function St(n,e){}function kt(n,e){if(n&1){let c=B();t(0,"div",2)(1,"div",3),p(2,"img",4),t(3,"div",5)(4,"span"),s(5),o(),t(6,"span"),s(7),o()()(),t(8,"div")(9,"p-button",6),_("onClick",function(){let l=M(c).$implicit,w=C(2);return P(w.logout(l))}),o()()()}if(n&2){let c=e.$implicit;a(2),d("src","assets/images/user.png",$),a(3),y(c.browser),a(2),y(c.ip_address)}}function Ft(n,e){if(n&1&&(t(0,"section",1)(1,"h4"),s(2,"Linked Devices"),o(),t(3,"p"),s(4,"Mange linked devices with your account."),o(),J(5,kt,10,3,"div",7,Y),o()),n&2){let c=C();a(5),W(c.linkedDevices())}}var Xi=(()=>{let e=class e{constructor(){this.linkedDeviceService=f(at),this.linkedDevices=E([])}ngOnInit(){this.linkedDevicesObservable$=this.linkedDeviceService.fetchLinksOfDevice().pipe(T(i=>{this.linkedDevices.set(i.data.list)}))}logout(i){this.logoutObs$=this.linkedDeviceService.logoutDevice(i).pipe(T(r=>{this.linkedDevices.update(l=>l.filter(w=>w.id==i.id))}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=x({type:e,selectors:[["engaz-linked-devices"]],standalone:!0,features:[b],decls:4,vars:6,consts:[["class","container-fluid d-flex flex-column p-2"],[1,"container-fluid","d-flex","flex-column","p-2"],[1,"d-flex","justify-content-between","my-2"],[1,"d-flex"],["width","70","height","70","alt","avatar","onerror","this.onerror=null;this.src='assets/images/user.png'",1,"rounded","img-fluid","position",3,"src"],[1,"d-flex","flex-column","mx-3"],["label","logout","severity","danger",1,"rounded",3,"onClick"],["class","d-flex justify-content-between my-2"]],template:function(r,l){r&1&&(v(0,St,0,0),m(1,"async"),v(2,Ft,7,0,"section",0),m(3,"async")),r&2&&(g(0,u(1,2,l.logoutObs$)?0:-1),a(2),g(2,u(3,4,l.linkedDevicesObservable$)?2:-1))},dependencies:[k,A,ae,se,O,V],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=e;return n})();function Tt(n,e){}var st=(()=>{let e=class e{constructor(){this.authService=f(Xe),this.resetPasswordForm=this.initResetPassword()}initResetPassword(){return new te({old_password:new F("",[I.required]),password:new F("",[I.required]),confirm_password:new F("",[I.required])})}onSubmit(){this.resetPasswordForm.value.password==this.resetPasswordForm.value.confirm_password&&(this.subs$=this.authService.changeMyPassword(this.resetPasswordForm.value.old_password,this.resetPasswordForm.value.password))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=x({type:e,selectors:[["engaz-reset-password-user"]],standalone:!0,features:[b],decls:39,vars:19,consts:[[1,"col-12","m-2"],[3,"formGroup"],[1,"row"],[1,"col-3"],["for","old_password"],[1,"col-6"],[1,"gap-2","mt-3"],["formControlName","old_password","id","old_password","aria-describedby","old_password-help",1,"w-100",3,"toggleMask"],["id","old_password-help"],["for","password"],["formControlName","password","id","password","aria-describedby","password-help",1,"w-100",3,"toggleMask"],["id","password-help"],["for","confirm_password"],["formControlName","confirm_password","id","confirm_password","aria-describedby","confirm_password-help",1,"w-100",3,"toggleMask"],["id","confirm_password-help"],["styleClass","primary rounded",1,"rounded",3,"label","onClick"]],template:function(r,l){r&1&&(v(0,Tt,0,0),m(1,"async"),t(2,"div",0)(3,"h4"),s(4,"Change Password"),o(),t(5,"p"),s(6,"Update your photo and personal details here."),o(),t(7,"form",1)(8,"div",2)(9,"div",3)(10,"label",4),s(11),m(12,"translate"),o()(),t(13,"div",5)(14,"div",6),p(15,"p-password",7)(16,"small",8),o()()(),t(17,"div",2)(18,"div",3)(19,"label",9),s(20),m(21,"translate"),o()(),t(22,"div",5)(23,"div",6),p(24,"p-password",10)(25,"small",11),o()()(),t(26,"div",2)(27,"div",3)(28,"label",12),s(29),m(30,"translate"),o()(),t(31,"div",5)(32,"div",6),p(33,"p-password",13)(34,"small",14),o()()(),t(35,"div")(36,"p-button",15),_("onClick",function(){return l.onSubmit()}),m(37,"translate"),o()()()(),p(38,"p-divider")),r&2&&(g(0,u(1,9,l.subs$)?0:-1),a(7),d("formGroup",l.resetPasswordForm),a(4),y(u(12,11,"controls.oldPassword")),a(4),d("toggleMask",!0),a(5),y(u(21,13,"controls.password")),a(4),d("toggleMask",!0),a(5),y(u(30,15,"controls.confirmPassword")),a(4),d("toggleMask",!0),a(3),d("label",u(37,17,"resetPassword.changePassword")))},dependencies:[k,A,re,ie,Z,ee,oe,ne,R,z,O,V,ze,$e,pe,le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=e;return n})();function Mt(n,e){}function Pt(n,e){if(n&1){let c=B();t(0,"p-button",6),_("onClick",function(){M(c);let r=C();return P(r.disableTwoFA())}),m(1,"translate"),o()}n&2&&d("label",u(1,1,"common.disableTwoFactorBtn"))}function Dt(n,e){if(n&1){let c=B();t(0,"p-button",7),_("onClick",function(){M(c);let r=C();return P(r.enable2FactorAuth())}),m(1,"translate"),o()}n&2&&d("label",u(1,1,"common.enableTwoFactorBtn"))}var Et=()=>({backgroundColor:"#F5F5F5"}),At=()=>({cursor:"pointer"});function It(n,e){if(n&1){let c=B();t(0,"div",9)(1,"div",10)(2,"div",11),p(3,"div",12),m(4,"engazSafeHtml"),t(5,"div",13)(6,"p"),s(7),m(8,"translate"),o(),t(9,"div",14)(10,"p-inputGroup"),p(11,"input",15,16),t(13,"p-inputGroupAddon",17),_("click",function(){M(c);let r=C(2);return P(r.copy())}),p(14,"i",18),o()()(),t(15,"small",19),s(16,"You should download "),t(17,"a",20),s(18,"Google Authenticator"),o(),s(19," to scan QR and get your OTP"),o()()(),t(20,"p-button",21),_("onClick",function(){M(c);let r=C(2);return P(r.next())}),m(21,"translate"),o()()(),p(22,"div",22)}if(n&2){let c=C(2),i,r;a(),K(S(14,Et)),a(2),d("innerHTML",u(4,8,(i=c.twoFactoryService.qrCode())==null?null:i.QrCode),be),a(4),y(u(8,10,"common.secretKey")),a(4),d("value",(r=c.twoFactoryService.qrCode())==null?null:r.secret),a(2),K(S(15,At)),a(7),d("label",u(21,12,"common.next"))}}var Ot=()=>({length:6,isPasswordInput:!0,placeholder:"0",allowNumbersOnly:!0});function Bt(n,e){if(n&1){let c=B();t(0,"div",9)(1,"div",23),_("click",function(){M(c);let r=C(2);return P(r.back())}),p(2,"i",24),t(3,"span",25),s(4,"Back to QR code"),o()(),t(5,"h5",26),s(6),m(7,"translate"),o(),p(8,"ng-otp-input",27),t(9,"p-button",28),_("onClick",function(){M(c);let r=C(2);return P(r.onSubmit())}),m(10,"translate"),o()(),p(11,"div",22)}if(n&2){let c=C(2);a(6),y(u(7,4,"controls.verificationCode")),a(2),d("formCtrl",c.verificationCode)("config",S(8,Ot)),a(),d("label",u(10,6,"common.enableTwoFactor"))}}function Ut(n,e){if(n&1&&(t(0,"div",8),v(1,It,23,16)(2,Bt,12,9),o()),n&2){let c=C();a(),g(1,c.twoFactoryService.qrCode()&&c.step()==1?1:-1),a(),g(2,c.step()==2?2:-1)}}var Eo=(()=>{let e=class e{constructor(){this.systemService=f(Be),this.twoFactoryService=f(Ue),this.copySer=f(Ke),this.cdr=f(Se),this.destroyRef=f(ke),this.verificationCode=new F("",[I.required]),this.isTwoFactoryEnabled=E(!1),this.showTwoFactoryBtn=E(!1),this.step=E(1)}ngOnInit(){this.systemService.findSystemStatus("two-factor-authenticator")?.value=="1"?this.showTwoFactoryBtn.set(!1):this.showTwoFactoryBtn.set(!0),localStorage.getItem(ge.TwoFactory)?this.isTwoFactoryEnabled.set(!0):this.isTwoFactoryEnabled.set(!1)}disableTwoFA(){this.disableTwoFactor$=this.twoFactoryService.disableTwoFactoryAuthentication().pipe(T(i=>{this.showTwoFactoryBtn.set(!0),localStorage.setItem(ge.TwoFactory,JSON.stringify(!1))}))}enable2FactorAuth(){this.twoFactoryService.getQrAndSecretKey().pipe(Ye(this.destroyRef)).subscribe(i=>{this.cdr.detectChanges()})}next(){this.step()<2&&this.step.set(this.step()+1)}back(){this.step()>0&&this.step.set(this.step()-1)}copy(){this.copySer.copy(this.twoFactoryService.qrCode()?.secret??"")}onSubmit(){this.subs$=this.twoFactoryService.enableTwoFactoryAuthentication(this.verificationCode.value).pipe(T(i=>{}),we(i=>i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=x({type:e,selectors:[["engaz-two-factory-authentication-user"]],standalone:!0,features:[b],decls:15,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-6"],["styleClass","w-100 danger rounded my-2","class","w-100  rounded my-2",3,"label"],["styleClass","w-100 primary rounded my-2","class","w-100  rounded my-2",3,"label"],["class","row","style","background-color: #F5F5F5;"],["styleClass","w-100 danger rounded my-2",1,"w-100","rounded","my-2",3,"label","onClick"],["styleClass","w-100 primary rounded my-2",1,"w-100","rounded","my-2",3,"label","onClick"],[1,"row",2,"background-color","#F5F5F5"],[1,"col-8"],[1,"d-flex","flex-column","justify-content-center","p-2"],[1,"m-0","d-flex"],[1,"qr-code","mx-2",3,"innerHTML"],[1,"info-code","w-100","flex-1"],[1,"input-group","mb-3"],["pInputText","","placeholder","Username",1,"w-100",3,"value"],["code",""],[3,"click"],[1,"pi","pi-copy"],[1,"should-download"],["target","_blank","href","https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en&gl=US&pli=1",2,"color","var(-firstColor)","text-decoration","none"],["styleClass","w-50 m-2 primary rounded",1,"m-2","w-50","rounded",3,"label","onClick"],[1,"col-4"],[1,"p-2",3,"click"],[1,"pi","pi-arrow-left"],[1,"mx-2"],[1,"h5","my-3"],[3,"formCtrl","config"],["styleClass","primary rounded my-3",1,"rounded","my-3",3,"label","onClick"]],template:function(r,l){r&1&&(v(0,Mt,0,0),m(1,"async"),t(2,"section",0)(3,"div",1),p(4,"engaz-reset-password-user"),o(),t(5,"div",1)(6,"div",2)(7,"h4"),s(8,"Two Factory Authentication"),o(),t(9,"p"),s(10,"Mange linked devices with your account."),o()(),t(11,"div",2),v(12,Pt,2,3,"p-button",3)(13,Dt,2,3,"p-button",4),o()(),v(14,Ut,3,2,"div",5),o()),r&2&&(g(0,u(1,4,l.disableTwoFactor$)?0:-1),a(12),g(12,l.showTwoFactoryBtn()==!1?12:-1),a(),g(13,l.showTwoFactoryBtn()?13:-1),a(),g(14,l.showTwoFactoryBtn()?14:-1))},dependencies:[k,A,R,z,qe,He,O,V,q,Qe,me,de,fe,ue,st],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=e;return n})();var ot=(()=>{let e=class e{constructor(){this._http=f(N)}fetchUserProfile(){return this._http.get({api:`${D.userProfile}`})}accountUserProfileUpdate(i){return this._http.patch({api:D.accountUserProfileUpdate,body:i})}updateProfilePhoto(i){return this._http.post({api:D.fileUpload,body:i,otherOptions:{reportProgress:!0,observe:"events"}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var at=(()=>{let e=class e{constructor(){this._http=f(N),this._user=f(H)}fetchLinksOfDevice(){return this._http.get({api:`${D.linkedDevices}?user_id=${this._user.userData()?.user_id}`})}logoutDevice(i){return this._http.post({api:D.logOutLinkedDevices,body:i})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var rt=(()=>{let e=class e{constructor(){this._http=f(N)}accountCountCards(){return this._http.get({api:D.dashboardCountCards})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{Yt as AccountLayoutComponent,rt as AccountProfileService,Ci as AccountSettingsComponent,ot as AccountSettingsService,nt as ActivityLogComponent,Xi as LinkedDevicesComponent,at as LinksDeviceService,Gi as ProfileComponent,st as ResetPasswordUserComponent,Eo as TwoFactoryAuthenticationUserComponent};
