import{a as C,b as D,e as E}from"./chunk-MNXY6R3H.js";import"./chunk-LG3ESZ4H.js";import{Bd as f,Cd as v,Fd as S,Mb as d,Nb as p,Ra as h,Sa as a,Vb as b,X as l,dc as u,ec as g,g as c,ub as n,vb as o,wb as m}from"./chunk-IFPKIGQ4.js";var A=(()=>{let s=class s{constructor(e,t,i){this.dataTableService=e,this.dataService=t,this.sharedModalService=i,this.subscription=new c,this.skip=0,this.take=10,this.columns=[{field:"title",header:"TITLE",type:"text",canSort:!1}],this.actions=[{label:"EDIT",icon:"assets/images/edit-action.svg",function:this.onEdit.bind(this),btnConditionBasedField:""},{label:"DELETE",icon:"assets/images/delete-action.svg",function:this.onDelete.bind(this),btnConditionBasedField:""}],e.cols=this.columns,e.isLoading=!1,e.hasPaginator=!0,e.hasFlatActions=!0,e.actionsFlat=this.actions}ngOnInit(){this.getData(),this.getPageChanged()}getData(){this.dataTableService.isLoading=!0,this.subscription.add(this.dataService.getFn(`reason/list/${this.skip}/${this.take}`).subscribe(e=>{this.dataTableService.isLoading=!1,this.dataTableService.totalRecords=e?.total,this.dataTableService.rows.set(e?.list)}))}onEdit(e){}onDelete(e){let t={title:"Are you sure to delete this Item?",message:"",type:"error",btnLabel:"DELETE"};this.sharedModalService.confirmCard(t).onClose.subscribe(i=>{i=="confirm"&&this.deleteReason(e)})}deleteReason(e){let t=e.reason_id;this.subscription.add(this.dataService.deleteFn(`reason/delete/${t}`).subscribe(i=>{i?.status&&this.sharedModalService.successBasicCard({title:i?.message,message:"",btnLabel:"OKAY"}).onClose.subscribe(T=>{this.getData()})}))}getPageChanged(){this.subscription.add(this.dataTableService.getPageChanged().subscribe(e=>{this.skip=e.page*e.rows,this.take=e.rows,this.getData()}))}ngOnDestroy(){this.subscription.unsubscribe()}};s.\u0275fac=function(t){return new(t||s)(a(C),a(S),a(E))},s.\u0275cmp=l({type:s,selectors:[["app-cancel-reason"]],standalone:!0,features:[b],decls:9,vars:3,consts:[[1,"p-4"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","bg-btn","text-white"],[1,"position-relative","shadow","rounded"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),d(3),u(4,"translate"),o(),n(5,"button",2),d(6,"New Cancel Reason"),o()(),n(7,"div",3),m(8,"data-table"),o()()),t&2&&(h(3),p(g(4,1,"CANCEL_REASONS")))},dependencies:[D,v,f]});let r=s;return r})();export{A as CancelReasonComponent};
